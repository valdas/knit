<h1>Inside KNIT</h1>

<ul>
<li> <a href="#1">Core Directories</a>
<ul>
<li> <a href="#2">KNIT</a>
<ul>
<li> <a href="#3">Makefile</a>
<li> <a href="#4">head</a>
</ul>
<li> <a href="#5">doc</a>
<ul>
<li> <a href="#6">doc/faqs.html</a>
</ul>
<li> <a href="#7">etc</a>
<ul>
<li> <a href="#8">etc/copyrite.txt</a>
<li> <a href="#9">etc/dotemacs</a>
<li> <a href="#10">etc/dotknitrc</a>
</ul>
<li> <a href="#11">lib</a>
<ul>
<li> <a href="#12">lib/make</a>
</ul>
</ul>
<li> <a href="#13">Apps</a>
<ul>
<li> <a href="#14">Standard Structure</a>
<li> <a href="#15">Standard Apps</a>
<ul>
<li> <a href="#16">Helloworld</a>
<li> <a href="#17">Penny</a>
<li> <a href="#18">Quill</a>
</ul></ul></ul>
<p>
KNIT divides into <em>core</em> and <em>apps</em>  (application) directories.
<em>App</em> directories have special sub-directories (<tt>_etc/tests</tt>) that
handle the KNIT test engine.  
</p>
<p>
This page describes those directories and files, focusing on what
files need changing to achieve common tasks.
</p>
<a name="1"></a><h2>Core Directories</h2>
<p>
The core directories are:
</p>
<pre>
 KNIT
 |-- doc
 |-- etc
 |-- lib
 |   |-- awk
 |   |-- m4
 |   |-- make
 |   `-- sh
 |-- share
 |   |-- img
 |   `-- pdf
 |-- site
 |   |-- etc
 |   |   `-- themes
 |   |       `-- EWnF
 |   |           `-- img
 |   `-- src
 |       `-- old
</pre>
<a name="2"></a><h3>KNIT</h3>

<a name="3"></a><h4>Makefile</h4>
<p>
The root of the KNIT directories contains a Makefile that:
</p>
<ol>
<li> Installs the whole system via <tt>make install</tt>. Note: this command needs only to be called once, when KNIT is first downloaded.
<li> Updates and commit the whole system via <tt>make</tt>. 
<li> Forces a rebuild of everything via <tt>make -B</tt> (warning, may be slow).
</ol>
<p>
Note: this Makefile knows very little about KNIT. For the most part, it just changes to different sub-directories can calls <tt>make</tt> there.
Hence, you should
update this file whenever you build a new app (so it knows how to build that app).
</p>
<a name="4"></a><h4>head</h4>
<p>
<tt>Head</tt> is a file containing a standard header/copyright notice to be included at the start of all KNIT files.
</p>
<a name="5"></a><h3>doc</h3>
<p>
This is the KNIT documentation project. It contains
files written in a <a href="?literate">shorthand for quick HTML markup</a>.
</p>
<p>
To update the documentation:
</p>
<ol>
<li> Change to this directory.
<li> Write a new <tt>.wak</tt> file in this directory.
<li> Execute <tt>make builds</tt>.
</ol>
<p>
Note that this last step may ask you to update  file <tt>../site/etc/tags.txt</tt>. This file is discussed below.
</p>
<a name="6"></a><h4>doc/faqs.html</h4>
<p>
Update this file to update the faqs.
</p>
<a name="7"></a><h3>etc</h3>
<p>
Stores various system config files.
</p>
<a name="8"></a><h4>etc/copyrite.txt</h4>
<p>
A standard header to be added on top of all build files.
</p>
<a name="9"></a><h4>etc/dotemacs</h4>
<p>
An EMACS configuration file to handle certain KNIT idioms (e.g. do not indent text with tabs: use spaces instead).
</p>
<pre>
 (load "/Users/timm/opt/knit/etc/dotemacs")
</pre>
<a name="10"></a><h4>etc/dotknitrc</h4>
<p>
A BASH configuration file to set up important KNIT variables. Change this file if your Makefiles need new or different envrionment variables.
</p>
<p>
To use this file, add something like this line to <tt>$HOME/.emacs</tt> (making the appropriate pathname changes):
</p>
<pre>
 . $HOME/opt/knit/etc/dotknitrc $HOME/opt/knit/etc local
</pre>
<p>
Note that the keyword <tt>local</tt> at the end of the above command. Currently <tt>etc/dotknitrc</tt> has conditionals that may set special variables,
	 if local conditions demand it.  Change those conditionals if we find site-specific KNIT install requirements.
</p>
<a name="11"></a><h3>lib</h3>
<p>
Contains the core scripts of KNIT.
</p>
<a name="12"></a><h4>lib/make</h4>
<p>
Contains the core scripts of KNIT. To build new language bindings for KNIT, copy and modify (e.g.) <tt>awk.mk</tt> to create <tt>newlanguage.mk</tt>.
</p>
<p>
XXX
</p>
<a name="13"></a><h2>Apps</h2>

<a name="14"></a><h3>Standard Structure</h3>

<a name="15"></a><h3>Standard Apps</h3>

<a name="16"></a><h4>Helloworld</h4>
<p>
<em>helloworld</em>
</p>
<a name="17"></a><h4>Penny</h4>

<a name="18"></a><h4>Quill</h4>
